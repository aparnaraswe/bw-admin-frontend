<div class="dashboard-container">

  <h2 class="page-title">Admin Dashboard</h2>

  <!-- KPI Cards -->
  <div class="kpi-container">
    <div class="kpi-card">
      <h3>Total Orders</h3>
      <p>{{ totalOrders }}</p>
    </div>

    <div class="kpi-card">
      <h3>Total Customers</h3>
      <p>{{ totalCustomers }}</p>
    </div>

    <div class="kpi-card">
      <h3>Total Revenue</h3>
      <p>₹{{ totalRevenue }}</p>
    </div>

    <div class="kpi-card">
      <h3>Open Issues</h3>
      <p>{{ openIssues }}</p>
    </div>
  </div>

  <!-- Charts and Quick Lists -->
  <div class="grid-2">

    <!-- Orders chart -->
    <div class="card chart-card">
      <h3>Order Status Overview</h3>
      <canvas id="ordersChart"></canvas>
    </div>

    <!-- Latest Orders -->
    <div class="card">
      <h3>Recent Orders</h3>
      <table class="list-table">
        <thead>
          <tr>
            <th>Order</th>
            <th>Customer</th>
            <th>Status</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let o of recentOrders">
            <td>{{ o.order_number }}</td>
            <td>{{ o.customer }}</td>
            <td><span class="badge" [ngClass]="o.status.toLowerCase()">{{ o.status }}</span></td>
            <td>₹{{ o.final_amount }}</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>

  <!-- Customer Issues -->
  <div class="card full-width">
    <h3>Pending Issues</h3>
    <table class="list-table">
      <thead>
        <tr>
          <th>Email</th>
          <th>Issue</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of pendingIssues">
          <td>{{ i.email }}</td>
          <td>{{ i.issue_title }}</td>
          <td><button class="resolve-btn">View</button></td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
